# üß™ Manual Testing Checklist for traybattery

## Pre-requisites
- [ ] Logitech G PRO X SUPERLIGHT 2 –ø—ñ–¥–∫–ª—é—á–µ–Ω–∞
- [ ] USB Receiver –≤ –∫–æ–º–ø'—é—Ç–µ—Ä—ñ
- [ ] –ú–∏—à–∞ –∑–∞—Ä—è–¥–∂–µ–Ω–∞ > 20%

---

## Test Suite 1: –ë–∞–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### Test 1.1: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

**–ö—Ä–æ–∫–∏:**
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ PowerShell
2. `cd C:\Projectrs\traybattery`
3. `cargo run`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì‚úì‚úì Successfully opened HID++ 2.0 device!
System tray created successfully
üîç Reading initial battery level...
‚úì Initial battery: XX% Discharging
üëÇ Listening for battery events...
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å –±–µ–∑ –ø–∞–Ω—ñ–∫–∏
- [ ] Tray icon –∑'—è–≤–∏–ª–∞—Å—å –≤ system tray
- [ ] –í—ñ–¥—Å–æ—Ç–æ–∫ –±–∞—Ç–∞—Ä–µ—ó 0-100%
- [ ] –°—Ç–∞—Ç—É—Å –∫–æ—Ä–µ–∫—Ç–Ω–∏–π (Discharging/Charging)

---

### Test 1.2: –ü—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–∞—Ç–∞—Ä–µ—ó
**–ú–µ—Ç–∞:** –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∑ G HUB

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery
2. –í—ñ–¥–∫—Ä–∏—Ç–∏ Logitech G HUB
3. –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- traybattery –ø–æ–∫–∞–∑—É—î: `47% Discharging`
- G HUB –ø–æ–∫–∞–∑—É—î: `47%`

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –†—ñ–∑–Ω–∏—Ü—è <= 5% (–¥–æ–ø—É—Å—Ç–∏–º–∞ –ø–æ—Ö–∏–±–∫–∞)
- [ ] –°—Ç–∞—Ç—É—Å —Å–ø—ñ–≤–ø–∞–¥–∞—î (charging/discharging)

---

### Test 1.3: Tray Icon –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å —ñ–∫–æ–Ω–∫–∏

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery
2. –ü–æ–¥–∏–≤–∏—Ç–∏—Å—å –Ω–∞ tray icon

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –Ø–∫—â–æ –±–∞—Ç–∞—Ä–µ—è 47%: –±—ñ–ª–∞ —Ü–∏—Ñ—Ä–∞ "47"
- –Ø–∫—â–æ –±–∞—Ç–∞—Ä–µ—è 25%: –∂–æ–≤—Ç–∞ —Ü–∏—Ñ—Ä–∞ "25"
- –Ø–∫—â–æ –±–∞—Ç–∞—Ä–µ—è 15%: —á–µ—Ä–≤–æ–Ω–∞ —Ü–∏—Ñ—Ä–∞ "15"

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –¶–∏—Ñ—Ä–∏ —á—ñ—Ç–∫—ñ —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ
- [ ] –ö–æ–ª—ñ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–æ—Ä–æ–≥—É (config.toml)
- [ ] Tooltip –ø–æ–∫–∞–∑—É—î –¥–µ—Ç–∞–ª—ñ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ

---

## Test Suite 2: Event-based –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### Test 2.1: –†–æ–∑—Ä—è–¥–∫–∞ –º–∏—à—ñ
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –±–∞—Ç–∞—Ä–µ—è –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery
2. –ó–∞–ø–∏—Å–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π %: `___%`
3. –ê–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–∏—à—É 30 —Ö–≤
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –∑–º—ñ–Ω–∏–≤—Å—è %

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ß–µ—Ä–µ–∑ 30 —Ö–≤: `üì¨ Battery event: XX% Discharging`
- % —Ç—Ä–æ—Ö–∏ –∑–º–µ–Ω—à–∏–≤—Å—è (1-3%)

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] Event –ø—Ä–∏–π—à–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (–±–µ–∑ polling)
- [ ] % –∑–º–µ–Ω—à–∏–≤—Å—è –ª–æ–≥—ñ—á–Ω–æ
- [ ] Tray icon –æ–Ω–æ–≤–∏–ª–∞—Å—å

---

### Test 2.2: –ü–æ—Å—Ç–∞–≤–∏—Ç–∏ –Ω–∞ –∑–∞—Ä—è–¥–∫—É
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–µ—Ç–µ–∫—Ç –∑–∞—Ä—è–¥–∫–∏

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery –∑ –º–∏—à–µ—é –Ω–∞ 50%
2. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ –º–∏—à—ñ –∑–∞—Ä—è–¥–Ω–∏–π –∫–∞–±–µ–ª—å
3. –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏ –ª–æ–≥–∏

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üì¨ Battery event: 50% ChargingFast
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –°—Ç–∞—Ç—É—Å –∑–º—ñ–Ω–∏–≤—Å—è –Ω–∞ Charging*
- [ ] % –Ω–µ —Å—Ç—Ä–∏–±–Ω—É–≤ —Ä—ñ–∑–∫–æ
- [ ] Tooltip –ø–æ–∫–∞–∑—É—î "‚ö° Charging"

---

### Test 2.3: –ó–Ω—è—Ç–∏ –∑ –∑–∞—Ä—è–¥–∫–∏
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–µ—Ç–µ–∫—Ç –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

**–ö—Ä–æ–∫–∏:**
1. –ú–∏—à–∞ –Ω–∞ –∑–∞—Ä—è–¥—Ü—ñ, traybattery –ø—Ä–∞—Ü—é—î
2. –í—ñ–¥–∫–ª—é—á–∏—Ç–∏ –∫–∞–±–µ–ª—å
3. –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏

**Oƒçek—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
.recv Battery event: XX% Discharging
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –°—Ç–∞—Ç—É—Å –∑–º—ñ–Ω–∏–≤—Å—è –Ω–∞ Discharging
- [ ] Tooltip –ø–æ–∫–∞–∑—É—î "üîå"

---

## Test Suite 3: –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏ —Ç–∞ edge cases

### Test 3.1: –í—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º–∏—à—ñ
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –ø—Ä–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery
2. –í–∏–º–∫–Ω—É—Ç–∏ –º–∏—à—É (Power Off)
3. –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏ 30 —Å–µ–∫—É–Ω–¥

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–ï –º–∞—î –±—É—Ç–∏ spam –ª–æ–≥—ñ–≤ –ø—Ä–æ 0%, 1%, 255%
- –ü—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î cached –∑–Ω–∞—á–µ–Ω–Ω—è
- –ú–æ–∂–ª–∏–≤–æ: `‚ö† No battery event available` (—Ç–∏—Ö–æ)

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –ü—Ä–æ–≥—Ä–∞–º–∞ –ù–ï –∫—Ä–∞—à–Ω—É–ª–∞
- [ ] –ù–ï –ø–æ–∫–∞–∑—É—î suspicious warnings —É —Å–ø–∞–º
- [ ] Tray icon –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∑ –æ—Å—Ç–∞–Ω–Ω—ñ–º –≤–∞–ª—ñ–¥–Ω–∏–º %

---

### Test 3.2: –£–≤—ñ–º–∫–Ω—É—Ç–∏ –º–∏—à—É –∑–Ω–æ–≤—É
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ reconnect

**–ö—Ä–æ–∫–∏:**
1. –ü—ñ—Å–ª—è Test 3.1, —É–≤—ñ–º–∫–Ω—É—Ç–∏ –º–∏—à—É
2. –ü–æ—á–µ–∫–∞—Ç–∏ 10 —Å–µ–∫—É–Ω–¥

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
.recv Battery event: XX% Discharging
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] Event –ø—Ä–∏–π—à–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- [ ] % –≤–∞–ª—ñ–¥–Ω–∏–π (0-100%)
- [ ] Tray –æ–Ω–æ–≤–∏–ª–∞—Å—å

---

### Test 3.3: Sleep mode –º–∏—à—ñ
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ø—Ä–æ–≥—Ä–∞–º–∞ –ù–ï –±—É–¥–∏—Ç—å –º–∏—à—É

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery
2. –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–∏—à—É 10 —Ö–≤–∏–ª–∏–Ω
3. –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏ CPU usage —á–µ—Ä–µ–∑ Task Manager

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- CPU: 0%
- –õ–æ–≥–∏: —Ç–∏—à–∞ (–º–æ–∂–ª–∏–≤–æ fallback poll —Ä–∞–∑ –Ω–∞ 60 —Å–µ–∫)

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] CPU ~0%
- [ ] –ú–∏—à–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ sleep mode
- [ ] –ù–ï —Å–ø–∞–º –∑–∞–ø–∏—Ç—ñ–≤

---

## Test Suite 4: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Test 4.1: –ó–º—ñ–Ω–∞ –ø–æ—Ä–æ–≥—ñ–≤ –∫–æ–ª—å–æ—Ä—ñ–≤
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ config.toml

**–ö—Ä–æ–∫–∏:**
1. –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ `%USERPROFILE%\.config\traybattery\config.toml`:
```toml
red_threshold = 50
yellow_threshold = 70
```
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery
3. –Ø–∫—â–æ –±–∞—Ç–∞—Ä–µ—è 60% - –º–∞—î –±—É—Ç–∏ –ñ–û–í–¢–ê

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –ö–æ–ª—ñ—Ä –∑–º—ñ–Ω–∏–≤—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ
- [ ] –ü–æ—Ä—ñ–≥ –ø—Ä–∞—Ü—é—î

---

## Test Suite 5: Stress Test (—Ç—Ä–∏–≤–∞–ª–∏–π)

### Test 5.1: 24 –≥–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏
**–ú–µ—Ç–∞:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å

**–ö—Ä–æ–∫–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ traybattery
2. –ó–∞–ª–∏—à–∏—Ç–∏ –Ω–∞ –Ω—ñ—á
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Ä–∞–Ω—Ü—ñ

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–æ–≥—Ä–∞–º–∞ –¥–æ—Å—ñ –ø—Ä–∞—Ü—é—î
- RAM ~5MB
- –õ–æ–≥–∏ –Ω–µ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω—ñ

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É:**
- [ ] –ü—Ä–æ–≥—Ä–∞–º–∞ –∂–∏–≤–∞
- [ ] Memory leak –≤—ñ–¥—Å—É—Ç–Ω—ñ–π
- [ ] –ë–∞—Ç–∞—Ä–µ—è –º–∏—à—ñ –ù–ï —Ä–æ–∑—Ä—è–¥–∏–ª–∞—Å—å —à–≤–∏–¥—à–µ

---

## Test Results Template

| Test ID | Status | Notes |
|---------|--------|-------|
| 1.1     | ‚úÖ/‚ùå   |       |
| 1.2     | ‚úÖ/‚ùå   |       |
| 1.3     | ‚úÖ/‚ùå   |       |
| 2.1     | ‚úÖ/‚ùå   |       |
| 2.2     | ‚úÖ/‚ùå   |       |
| 2.3     | ‚úÖ/‚ùå   |       |
| 3.1     | ‚úÖ/‚ùå   |       |
| 3.2     | ‚úÖ/‚ùå   |       |
| 3.3     | ‚úÖ/‚ùå   |       |
| 4.1     | ‚úÖ/‚ùå   |       |
| 5.1     | ‚úÖ/‚ùå   |       |

---

## Bug Report Template

–Ø–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ –±–∞–≥:

```
**Bug ID:** 
**Test:** 
**Severity:** Critical / High / Medium / Low
**Description:** 
**Steps to reproduce:**
1. 
2. 
3. 

**Expected:** 
**Actual:** 
**Logs:**
```

## Known Issues

### Issue #1: Visual test may fail without system fonts
**Problem:** `test_tray_icon_generation` may fail if system fonts are missing
**Solution:** Test checks config parameters as fallback
**Priority:** Low

### Issue #2: Integration tests require physical device
**Problem:** CI/CD can't run integration tests
**Solution:** Mark as `#[ignore]`, run manually
**Priority:** Medium

### Issue #3: Private fields limit testing
**Problem:** Cannot directly test some internal functionality due to private fields/functions
**Solution:** Test through public interfaces where possible
**Priority:** Medium